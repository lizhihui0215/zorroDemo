<div nz-row [nzType]="'flex'" [nzJustify]="'space-around'" [nzAlign]="'middle'">
  <nz-card nz-col [nzSpan]="16">
    <ng-template #title>
      Register
    </ng-template>
    <ng-template #body>
      <form nz-form [formGroup]="validateForm" (ngSubmit)="_submitForm()">
        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24">用户名</nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24" nzHasFeedback>
            <input [nzSize]="'large'" formControlName="username" nz-input>
            <nz-form-explain *ngIf="getFormControl('username').dirty&&getFormControl('username').hasError('required')">
              请输入用户名!
            </nz-form-explain>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24">姓名</nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24" nzHasFeedback>
            <input [nzSize]="'large'" formControlName="name"  nz-input>
            <nz-form-explain *ngIf="getFormControl('name').dirty&&getFormControl('name').hasError('required')">请输入用户名!
            </nz-form-explain>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24">邮箱</nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24" nzHasFeedback>
            <input [nzSize]="'large'" formControlName="email"  nz-input>
            <nz-form-explain *ngIf="getFormControl('email').dirty&&getFormControl('email').hasError('email')">
              请输入有效的邮箱!
            </nz-form-explain>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24">密码</nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24" nzHasFeedback>

            <input [nzSize]="'large'" formControlName="password" type="password"
                   (ngModelChange)="updateConfirmValidator()" nz-input>
            <nz-form-explain *ngIf="getFormControl('password').dirty&&getFormControl('password').hasError('required')">
              请输入密码!
            </nz-form-explain>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24">确认密码</nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24" nzHasFeedback>
            <input [nzSize]="'large'" formControlName="checkPassword" type="password"
                   nz-input>
            <nz-form-explain
              *ngIf="getFormControl('checkPassword').dirty&&getFormControl('checkPassword').hasError('required')">
              请输入确认密码!
            </nz-form-explain>
            <nz-form-explain
              *ngIf="getFormControl('checkPassword').dirty&&getFormControl('checkPassword').hasError('confirm')">
              确认密码和愿密码不符!
            </nz-form-explain>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24">
        <span>
            昵称
            <nz-tooltip [nzTitle]="'What do you want other to call you'">
                <i nz-tooltip class="anticon anticon-question-circle-o"></i>
            </nz-tooltip>
        </span>
          </nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24" nzHasFeedback>
            <input [nzSize]="'large'" formControlName="nickname"  nz-input>
            <nz-form-explain *ngIf="getFormControl('nickname').dirty&&getFormControl('nickname').hasError('required')">
              请输入昵称!
            </nz-form-explain>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24">手机</nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24" nzHasFeedback>
            <nz-input-group [nzSize]="'large'" [nzCompact]="true">
              <nz-select formControlName="phoneNumberPrefix" style="width: 25%;">
                <nz-option [nzLabel]="'+86'" [nzValue]="'+86'"></nz-option>
                <nz-option [nzLabel]="'+87'" [nzValue]="'+87'"></nz-option>
              </nz-select>
              <input formControlName="phone" id="'phone'" nz-input style="width: 75%;">
            </nz-input-group>
            <nz-form-explain *ngIf="getFormControl('phone').dirty&&getFormControl('phone').hasError('required')">Please
              input your phone number!
            </nz-form-explain>
          </nz-form-control>
        </nz-form-item>


        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24">验证码</nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24">
            <nz-row [nzGutter]="8">
              <nz-col [nzSpan]="12">
                <input [nzSize]="'large'" formControlName="captcha"  nz-input>
              </nz-col>
              <nz-col [nzSpan]="12">
                <button nz-button [nzSize]="'large'" (click)="getCaptcha($event)">Get captcha</button>
              </nz-col>
            </nz-row>
            <div nz-form-extra>We must make sure that your are a human.</div>
            <nz-form-explain *ngIf="getFormControl('captcha').dirty&&getFormControl('captcha').hasError('required')">
              Please input the captcha you got!
            </nz-form-explain>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item style="margin-bottom:8px;">
          <nz-form-control [nzSpan]="14" [nzOffset]="6">
            <label nz-checkbox formControlName="agree">
              I have read the
            </label>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item style="margin-bottom:8px;">
          <nz-form-control [nzSpan]="14" [nzOffset]="6">
            <button nz-button [nzSize]="'large'" [nzType]="'primary'">Register</button>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item style="margin-bottom:8px;">
          <nz-form-control [nzSpan]="14" [nzOffset]="6">
        <span>
            I have a account to
            <a routerLink="/signin">login</a>
        </span>
          </nz-form-control>
        </nz-form-item>
      </form>
    </ng-template>
  </nz-card>

</div>
